language: python
dist: focal
python:
- '3.6'
- '3.7'
- '3.8'
- '3.9'
- '3.10'
install:
- pip install --upgrade pip pipenv virtualenv
- pip install -e .[dev]
- python -m build .
script:
- pylint version_checker
- pytest --cov=version_checker.utils tests/
after_success:
- bash <(curl -s https://codecov.io/bash)
deploy:
  provider: pypi
  username: __token__
  password:
    secure: NgTI6WKggUt/TGoWdIlyna42QB1B4z/k2G8x54lkKyaJ/iwkQWKDc72m2b28qSaiarfrzhNyespIFP1Vq1HIe4FpQIPo/c04ZzV6dLG+aSPTuV102ZBAIMFsFDGP/oDrUgw95b8crDqGNRWo4pO+uBlIDJ69W/tzE/Rk83OSM1/mrLesugAEEB0eG2HN7epDyCZyd8NqbctmnvjOtkH9uaN2aLJyrE9Foy/sgQHUo2UNIwJwYveQaNYMtjw+q/+p8GLi8g/DEMujPTt8FtTYmTS/HLElt2Fgk/h7Q6Yw9qjVFRVu8pMhzwrQQIW7pcOaG8RDkSQ2F6UGd7Fy4/zZVufxpw9k2T6RoNsNXL9ALaAvTxZkXBayrPG0UDnNeoOD4JtGj9M9BOJffoqyNH/zMpj1pXvvll2alEm2qIiC7AGk+l+8XlitNHfPc4kbdZ6dD///FTo6q6QdN36Bz9JAGaJfmjTOUbeliUh2guC0nMzOFoJX3C5GZfok8AJc+7oMqCl+8Bd4qvBdB/oiVn9LCAuroht28acymmQRhNAnDU8QRlIELW2Zz/R4OYeRuAly0h8Mgus2bVQOx/t9fu3Zc19X0ljrQY4DHm0iN1N0Ufzr0DClI5ULEStJM+VNVkAj7CwY9Y+c0nhoTRiuGtrV+5n9PVzxPptN+VjoOHHk9rs=
  on:
    tags: true
